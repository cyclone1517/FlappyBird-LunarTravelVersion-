{"version":3,"sources":["../../../js/player/Birds.js"],"names":["Birds","image","getImage","width","height","clippingX","clippingY","clippingWidth","clippingHeight","birdX","getInstance","canvas","birdsX","birdY","birdsY","birdWidth","birdsWidth","birdHeight","birdsHeight","y","index","count","time","speed","Math","floor","g","offsetUp","offsetY","i","img"],"mappings":";;;;;;;;;;;AAAA;;AACA;;;;;;;;IAEaA,K,WAAAA,K;;;AACT,qBAAa;AAAA;;AACT,YAAMC,QAAQ,gBAAOC,QAAP,CAAgB,OAAhB,CAAd;;AAIA;AALS,kHAEHD,KAFG,EAEI,CAFJ,EAEO,CAFP,EAEUA,MAAME,KAFhB,EAEuBF,MAAMG,MAF7B,EAGL,CAHK,EAGF,CAHE,EAGCH,MAAME,KAHP,EAGcF,MAAMG,MAHpB;;AAMT,cAAKC,SAAL,GAAiB,CAAC,CAAD,EAAI,IAAE,EAAF,GAAK,EAAT,EAAa,IAAE,EAAF,GAAK,EAAL,GAAQ,EAAR,GAAW,EAAxB,CAAjB;AACA,cAAKC,SAAL,GAAiB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAAjB;AACA,cAAKC,aAAL,GAAqB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAArB;AACA,cAAKC,cAAL,GAAsB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAAtB;AACA,YAAMC,QAAQ,qBAAUC,WAAV,GAAwBC,MAAxB,CAA+BR,KAA/B,GAAuC,CAArD;AACA,cAAKS,MAAL,GAAc,CAACH,KAAD,EAAQA,KAAR,EAAeA,KAAf,CAAd;AACA,cAAKI,KAAL,GAAa,qBAAUH,WAAV,GAAwBC,MAAxB,CAA+BP,MAA/B,GAAwC,CAArD;AACA,cAAKU,MAAL,GAAc,CAAC,MAAKD,KAAN,EAAa,MAAKA,KAAlB,EAAyB,MAAKA,KAA9B,CAAd;AACA,YAAME,YAAY,EAAlB;AACA,cAAKC,UAAL,GAAkB,CAACD,SAAD,EAAYA,SAAZ,EAAuBA,SAAvB,CAAlB;AACA,YAAME,aAAa,EAAnB;AACA,cAAKC,WAAL,GAAmB,CAACD,UAAD,EAAaA,UAAb,EAAyBA,UAAzB,CAAnB;AACA,cAAKE,CAAL,GAAS,CAAC,MAAKN,KAAN,EAAa,MAAKA,KAAlB,EAAyB,MAAKA,KAA9B,CAAT;AACA,cAAKO,KAAL,GAAa,CAAb;AACA,cAAKC,KAAL,GAAa,CAAb;AACA,cAAKC,IAAL,GAAY,CAAZ;AArBS;AAsBZ;;;;+BAEM;AACH,gBAAMC,QAAQ,GAAd;AACA,iBAAKF,KAAL,GAAa,KAAKA,KAAL,GAAaE,KAA1B;AACA,gBAAG,KAAKH,KAAL,IAAc,CAAjB,EAAmB;AACf,qBAAKC,KAAL,GAAa,CAAb;AACH;AACD;AACA,iBAAKD,KAAL,GAAaI,KAAKC,KAAL,CAAW,KAAKJ,KAAhB,CAAb;;AAEA,gBAAMK,IAAI,GAAV;AACA,gBAAMC,WAAW,EAAjB;AACA,gBAAMC,UAAWF,IAAI,KAAKJ,IAAT,IAAiB,KAAKA,IAAL,GAAYK,QAA7B,CAAD,GAA2C,CAA3D;AACA,iBAAI,IAAIE,IAAE,CAAV,EAAaA,KAAG,CAAhB,EAAmBA,GAAnB,EAAuB;AACnB,qBAAKf,MAAL,CAAYe,CAAZ,IAAiB,KAAKV,CAAL,CAAOU,CAAP,IAAYD,OAA7B;AACH;AACD,iBAAKN,IAAL;;AAEA,+GACI,KAAKQ,GADT,EAEI,KAAKzB,SAAL,CAAe,KAAKe,KAApB,CAFJ,EAEgC,KAAKd,SAAL,CAAe,KAAKc,KAApB,CAFhC,EAGI,KAAKb,aAAL,CAAmB,KAAKa,KAAxB,CAHJ,EAGoC,KAAKZ,cAAL,CAAoB,KAAKY,KAAzB,CAHpC,EAII,KAAKR,MAAL,CAAY,KAAKQ,KAAjB,CAJJ,EAI6B,KAAKN,MAAL,CAAY,KAAKM,KAAjB,CAJ7B,EAKI,KAAKJ,UAAL,CAAgB,KAAKI,KAArB,CALJ,EAKiC,KAAKF,WAAL,CAAiB,KAAKE,KAAtB,CALjC;AAOH","file":"Birds.js","sourcesContent":["import {Sprite} from \"../base/Sprite.js\";\r\nimport {DataStore} from \"../base/DataStore.js\";\r\n\r\nexport class Birds extends Sprite{\r\n    constructor(){\r\n        const image = Sprite.getImage('birds');\r\n        super(image, 0, 0, image.width, image.height,\r\n            0, 0, image.width, image.height);\r\n\r\n        //小鸟的三种状态用一个数组来存储\r\n        this.clippingX = [9, 9+34+18, 9+34+18+34+18];\r\n        this.clippingY = [10, 10, 10];\r\n        this.clippingWidth = [34, 34, 34];\r\n        this.clippingHeight = [24, 24, 24];\r\n        const birdX = DataStore.getInstance().canvas.width / 4;\r\n        this.birdsX = [birdX, birdX, birdX];\r\n        this.birdY = DataStore.getInstance().canvas.height / 2;\r\n        this.birdsY = [this.birdY, this.birdY, this.birdY];\r\n        const birdWidth = 34;\r\n        this.birdsWidth = [birdWidth, birdWidth, birdWidth];\r\n        const birdHeight = 24;\r\n        this.birdsHeight = [birdHeight, birdHeight, birdHeight];\r\n        this.y = [this.birdY, this.birdY, this.birdY];\r\n        this.index = 0;\r\n        this.count = 0;\r\n        this.time = 0;\r\n    }\r\n\r\n    draw() {\r\n        const speed = 0.2;\r\n        this.count = this.count + speed;\r\n        if(this.index >= 2){\r\n            this.count = 0;\r\n        }\r\n        //减速器的作用\r\n        this.index = Math.floor(this.count);\r\n\r\n        const g = 0.4;\r\n        const offsetUp = 25;\r\n        const offsetY = (g * this.time * (this.time - offsetUp)) / 2;\r\n        for(let i=0; i<=2; i++){\r\n            this.birdsY[i] = this.y[i] + offsetY;\r\n        }\r\n        this.time++;\r\n\r\n        super.draw(\r\n            this.img,\r\n            this.clippingX[this.index], this.clippingY[this.index],\r\n            this.clippingWidth[this.index], this.clippingHeight[this.index],\r\n            this.birdsX[this.index], this.birdsY[this.index],\r\n            this.birdsWidth[this.index], this.birdsHeight[this.index]\r\n        )\r\n    }\r\n}"]}